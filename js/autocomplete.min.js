function mostrarResultados(a){var e="tag0="+encodeURI($("#grado").val())+"&tag1="+encodeURI($("#asig").val())+"&tag2="+encodeURI($("#anio").val())+"&tag3="+encodeURI($("#curso").val())+"&page="+a;$.getJSON("/BDExamenes/php/getter.php",e,function(e){$("#lista").empty(),$("#pages").empty(),e.num_r>0?($(".shape:has(ul)").show(),$.each(e,function(e,o){if("num_r"!=e){if(null!=o){var t=encodeURI(o+"/"+e);$("#lista").append("<li><a href="+t+">"+e+"</a></li>")}}else{var n=Math.ceil(o/20);if(n>1)for(i=1;i<=n;i++)i==a?$("#pages").append("<li onclick='mostrarResultados("+i+")'><a class='active'>"+i+"</a></li>"):$("#pages").append("<li onclick='mostrarResultados("+i+")'><a>"+i+"</a></li>");else $(".shape:has(ul.pagination)").hide()}})):$(".shape:has(ul)").hide()})}function autocompletar(a){var e="&caller="+a;switch(a){case"grado":e+="&tag0="+encodeURI($("#curso").val())+"&tag1="+encodeURI($("#asig").val())+"&tag2="+encodeURI($("#anio").val());break;case"asig":e+="&tag0="+encodeURI($("#curso").val())+"&tag1="+encodeURI($("#grado").val())+"&tag2="+encodeURI($("#anio").val());break;case"anio":e+="&tag0="+encodeURI($("#curso").val())+"&tag1="+encodeURI($("#asig").val())+"&tag2="+encodeURI($("#grado").val());break;case"curso":e+="&tag0="+encodeURI($("#grado").val())+"&tag1="+encodeURI($("#asig").val())+"&tag2="+encodeURI($("#anio").val())}$("#"+a).autocomplete({source:function(a,o){$.getJSON("/BDExamenes/php/tagger.php","term="+a.term+e,o)},select:function(){setTimeout(function(){mostrarResultados(1)},50)},open:function(a,e){var o=$(this).data("ui-autocomplete");o.menu.element.find("li").each(function(){var a=$(this),e=o.term.split(" ").join("|");a.html(a.text().replace(new RegExp("("+e+")","gi"),"<b>$1</b>"))})}})}$(document).ready(function(){$(".shape:has(ul)").hide(),$("#grado").val(""),$("#grado").on("autocompleteselect",function(a,e){}),$("#grado").on("input",function(){autocompletar("grado"),mostrarResultados(1)}),$("#asig").val(""),$("#asig").on("autocompleteselect",function(a,e){}),$("#asig").on("input",function(){autocompletar("asig"),mostrarResultados(1)}),$("#anio").val(""),$("#anio").on("autocompleteselect",function(a,e){}),$("#anio").on("input",function(){autocompletar("anio"),mostrarResultados(1)}),$("#curso").val(""),$("#curso").on("autocompleteselect",function(a,e){}),$("#curso").on("input",function(){autocompletar("curso"),mostrarResultados(1)})});