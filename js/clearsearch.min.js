!function(e){e.fn.clearSearch=function(t){var a=e.extend({clearClass:"clear_input",focusAfterClear:!0,linkText:"&times;"},t);return this.each(function(){function t(){i.val("").change(),n(),a.focusAfterClear&&i.focus(),"function"==typeof a.callback&&a.callback()}function n(){c()?l.show():l.hide(),s()}function c(){return i.val().replace(/^\s+|\s+$/g,"").length>0}function s(){var e=i.outerWidth(),t=i.outerHeight();l.css({top:t/2-l.height()/2,left:e-t/2-l.height()/2})}var l,i=e(this),r=a.clearClass+"_div";i.parent().hasClass(r)||(i.wrap('<div style="position: relative;" class="'+r+'">'+i.html()+"</div>"),i.after('<a style="position: absolute; cursor: pointer;" class="'+a.clearClass+'">'+a.linkText+"</a>")),l=i.next(),l.on("click",t),i.on("keyup keydown change focus",n),n()})}}(jQuery);